<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>懒加载</title>
    <link href="../base.css" rel="stylesheet">
    <link href="main.css" rel="stylesheet">
    <script src="../jquery.js"></script>
    <script src="../jQuery.lazyload.js"></script>
</head>
<body>
<div class="w" style=" height: 1200px; background-color: #333333">

</div>
<div class=" w">
    <div class="mod-floor">
        <div class="floor" >
            <ul class="product clearfix">
                <li><img data-lazy-img="img/product1.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>


                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

            </ul>
        </div>
        <div class="floor" >
            <ul class="product clearfix">
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>


                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

            </ul>
        </div>
        <div class="floor" >
            <ul class="product clearfix">
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>


                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

            </ul>
        </div>
        <div class="floor" >
            <ul class="product clearfix">
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>


                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

            </ul>
        </div>
        <div class="floor" >
            <ul class="product clearfix">
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>


                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

            </ul>
        </div>
        <div class="floor" >
            <ul class="product clearfix">
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>


                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

            </ul>
        </div>
        <div class="floor" >
            <ul class="product clearfix">
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>


                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>
                <li><img data-lazy-img="img/product.jpg" > </li>

            </ul>
        </div>
        <div id="con" class="floor" data-lazy-path="tpl/index.html" >

        </div>
        <div id="con2" class="floor" data-lazy-path="tpl.js" >

        </div>
    </div>
</div>
<div style=" height: 1200px;">

</div>
<script>
    $(function(){
        $(".mod-floor").lazyload({
            blankImgUrl:"img/loading.gif"
        })


        $("#con").lazyload({
            type:"fn",
            onchange:function(d){
                $.get(d.attr("data-lazy-path"),function(da){
                    //一般来说 不需要 再次 懒加载 因为触发 这里已经 表示 ，盒子块 进入屏幕
                    d.append($(da)[0])
                            .lazyload({
                        blankImgUrl:"../../images/share/loading.gif"
                    });
                })
            }
        })


        $("#con2").lazyload({
            type:"js",
            onchange: function () {
                console.log("加载了")
            }
        })
    })
</script>
</body>
</html>